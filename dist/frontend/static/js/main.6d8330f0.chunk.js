(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,function(t,e,n){t.exports=n(20)},,,,,,function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";n.r(e);var o=n(0),a=n.n(o),i=n(8),r=n.n(i),c=(n(15),n(2)),s=n(3),l=n(6),h=n(4),u=n(1),b=n(5),f=(n(16),function(t){function e(t){var n;return Object(c.a)(this,e),(n=Object(l.a)(this,Object(h.a)(e).call(this,t))).onClick=n.onClick.bind(Object(u.a)(n)),n}return Object(b.a)(e,t),Object(s.a)(e,[{key:"onClick",value:function(){if(this.props.cellClick)return this.props.cellClick(this.props.x,this.props.y)}},{key:"render",value:function(){var t=["cell"];return this.props.active&&t.push("active"),a.a.createElement("div",{className:t.join(" "),onClick:this.onClick})}}]),e}(a.a.Component)),v=(n(17),function(t){function e(t){var n;return Object(c.a)(this,e),(n=Object(l.a)(this,Object(h.a)(e).call(this,t))).width=5,n.height=5,n.state={robot:{x:-1,y:-1}},n.state.robot=t.robot,n.onChange=n.onChange.bind(Object(u.a)(n)),n}return Object(b.a)(e,t),Object(s.a)(e,[{key:"onChange",value:function(){var t=this;return this.props.onChange().then(function(e){return t.setState({robot:e}),e})}},{key:"componentDidUpdate",value:function(t){t.robot!==this.props.robot&&this.setState({robot:this.props.robot})}},{key:"render",value:function(){var t=[];if(!this.props.robot)return null;for(var e=0;e<this.height;e++){t[e]=[];for(var n=0;n<this.width;n++){var o=!1;this.state.robot&&this.state.robot.x===n&&this.state.robot.y===4-e&&(o=!0),t[e][n]=a.a.createElement(f,{x:n,y:4-e,active:o,onChange:this.onChange,cellClick:this.props.cellClick,key:"".concat(n).concat(e)})}}return a.a.createElement("div",{className:"grid"},t)}}]),e}(a.a.Component)),p=new(function(){function t(){Object(c.a)(this,t),console.log("init")}return Object(s.a)(t,[{key:"move",value:function(){return fetch("/move").then(function(t){return t.json()})}},{key:"place",value:function(t,e,n){return fetch("/place",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({x:t,y:e,direction:n})})}},{key:"report",value:function(){return fetch("/report").then(function(t){return t.json()})}},{key:"rotateLeft",value:function(){return fetch("/left").then(function(t){return t.json()})}},{key:"rotateRight",value:function(){return fetch("/right").then(function(t){return t.json()})}}]),t}()),d=(n(18),function(t){function e(t){var n;return Object(c.a)(this,e),(n=Object(l.a)(this,Object(h.a)(e).call(this,t))).state={direction:"NORTH",robot:{direction:null,x:-1,y:-1}},n.onChange=n.onChange.bind(Object(u.a)(n)),n.directionChange=n.directionChange.bind(Object(u.a)(n)),n.cellClick=n.cellClick.bind(Object(u.a)(n)),n.move=n.move.bind(Object(u.a)(n)),n.rotateLeft=n.rotateLeft.bind(Object(u.a)(n)),n.rotateRight=n.rotateRight.bind(Object(u.a)(n)),n.place=n.place.bind(Object(u.a)(n)),n}return Object(b.a)(e,t),Object(s.a)(e,[{key:"onChange",value:function(){var t=this;return this.props.onChange().then(function(e){return t.setState({robot:e}),e})}},{key:"directionChange",value:function(t){this.setState({direction:t.target.value})}},{key:"cellClick",value:function(t,e){var n=this;p.place(t,e,this.state.direction).then(function(){n.onChange()})}},{key:"move",value:function(){var t=this;p.move().then(function(){t.onChange()})}},{key:"rotateLeft",value:function(){var t=this;p.rotateLeft().then(function(){t.onChange()})}},{key:"rotateRight",value:function(){var t=this;p.rotateRight().then(function(){t.onChange()})}},{key:"place",value:function(){this.setState({robot:{direction:null,x:-1,y:-1}}),this.props.destroyRobot()}},{key:"render",value:function(){return this.props.robot?a.a.createElement("div",{className:"controls"},a.a.createElement("div",{className:"controls"},a.a.createElement("button",{onClick:this.rotateLeft},"Rotate left"),a.a.createElement("button",{onClick:this.rotateRight},"Rotate Right"),a.a.createElement("button",{onClick:this.move},"Move"),"|",a.a.createElement("button",{onClick:this.place},"Place"))):a.a.createElement("div",{className:"controls"},a.a.createElement("select",{value:this.state.direction,onChange:this.directionChange},a.a.createElement("option",{value:"NORTH"},"North"),a.a.createElement("option",{value:"EAST"},"East"),a.a.createElement("option",{value:"SOUTH"},"South"),a.a.createElement("option",{value:"WEST"},"West")),a.a.createElement(v,{onChange:this.onChange,cellClick:this.cellClick,robot:this.state.robot}))}}]),e}(a.a.Component)),C=(n(19),function(t){function e(t){var n;return Object(c.a)(this,e),(n=Object(l.a)(this,Object(h.a)(e).call(this,t))).state={robot:null},n.onChange=n.onChange.bind(Object(u.a)(n)),n.destroyRobot=n.destroyRobot.bind(Object(u.a)(n)),n}return Object(b.a)(e,t),Object(s.a)(e,[{key:"destroyRobot",value:function(){this.setState({robot:null})}},{key:"onChange",value:function(){var t=this;return p.report().then(function(e){return t.setState({robot:e}),e})}},{key:"render",value:function(){return a.a.createElement("div",{className:"App"},a.a.createElement(d,{onChange:this.onChange,robot:this.state.robot,destroyRobot:this.destroyRobot}),a.a.createElement(v,{onChange:this.onChange,robot:this.state.robot}))}}]),e}(a.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(a.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}],[[9,1,2]]]);
//# sourceMappingURL=main.6d8330f0.chunk.js.map